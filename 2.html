<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamic Date and Time</title>
    <style>
        /* 배경화면을 검은색으로 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
        }
        /* 배경화면을 화면 정중앙으로 */
        .date-time {
            text-align: center;
        }
        /* 원래 크기의 3배(3em), 굵게(bold), 오렌지색(orange)으로 */
        .date {
            color: orange;
            font-size: 3em;
            font-weight: bold;
        }
        /* 원래 크기의 5배(5em), 굵게(bold), 녹색(green)으로 */
        .time {
            color: green;
            font-size: 5em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="date-time">
        <div id="islamic-date" class="date"></div>
        <div id="islamic-time" class="time"></div>
    </div>
    <script>
        // 그레고리력 -> 율리우스력 -> 이슬람력(헤지라, 622년를 원년으로 하며, 태음력입니다.)
        function gregorianToIslamic(gYear, gMonth, gDay) {
            // 율리우스력 환산식
            var jd = Math.floor((1461 * (gYear + 4800 + Math.floor((gMonth - 14) / 12))) / 4) +
                Math.floor((367 * (gMonth - 2 - 12 * (Math.floor((gMonth - 14) / 12)))) / 12) -
                Math.floor((3 * (Math.floor((gYear + 4900 + Math.floor((gMonth - 14) / 12)) / 100))) / 4) +
                gDay - 32075;

            // 율리우스력 -> 이슬람력(환산)
            var l = jd - 1948440 + 10632;
            var n = Math.floor((l - 1) / 10631);
            l = l - 10631 * n + 354;
            var j = (Math.floor((10985 - l) / 5316)) * (Math.floor((50 * l) / 17719)) + (Math.floor(l / 5670)) * (Math.floor((43 * l) / 15238));
            l = l - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50)) - (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;
            var iMonth = Math.floor((24 * l) / 709);
            var iDay = l - Math.floor((709 * iMonth) / 24);
            var iYear = 30 * n + j - 30;

            return { year: iYear, month: iMonth + 1, day: iDay };
        }

        // 이슬람력엔 고유의 아랍 월이 있습니다.
        function getIslamicMonthName(monthIndex) {
            const monthNames = [
                "محرم", "صفر", "ربيع الأول", "ربيع الآخر",
                "جمادى الأولى", "جمادى الآخرة", "رجب",
                "شعبان", "رمضان", "شوال",
                "ذو القعدة", "ذو الحجة"
            ];
            return monthNames[monthIndex - 1];
        }

        // 출력
        function updateIslamicTime() {
            // 현재 날짜 출력
            const now = new Date();
            const gYear = now.getFullYear();
            const gMonth = now.getMonth() + 1; // Months are zero-based
            const gDay = now.getDate();
            // 이슬람력으로 출력
            const { year, month, day } = gregorianToIslamic(gYear, gMonth, gDay);

            // 현재 월은 아랍 월로
            const islamicMonthName = getIslamicMonthName(month);

            // 현재 시각 출력
            const hours = now.getHours().toString().padStart(2, '0'); //00~24
            const minutes = now.getMinutes().toString().padStart(2, '0'); //00~59
            const seconds = now.getSeconds().toString().padStart(2, '0'); //00~59
            const milliseconds = now.getMilliseconds().toString().padStart(3, '0'); //000~999

            // 이 형식으로 출력합니다. (년도는 년,일 월, 시간은 시:분:초.밀리초)
            const formattedDate = `${year}, ${day} ${islamicMonthName}`;
            const formattedTime = `${hours}:${minutes}:${seconds}.${milliseconds}`;

            // html 텍스트로 출력(getElementById)
            document.getElementById('islamic-date').innerText = formattedDate;
            document.getElementById('islamic-time').innerText = formattedTime;
        }

        // 1ms마다 갱신
        setInterval(updateIslamicTime, 1);
        // 지연 없이 갱신
        updateIslamicTime();
    </script>
</body>
</html>

























































